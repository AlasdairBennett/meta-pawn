{% extends "base.html" %}

{% block styling %}
{% endblock %}

{% block content %}
<div class="container">
    <header class="content-text">
        <h1><strong>Meta-Pawn</strong></h1>
        <p>Data based metagame analysis of chess.</p>
    </header>

    <body>

        <h2 id="eloHeader">Win Rate of openings by colour for elo <output></output>:</h2>
        <output></output>
        <input type="range" class="form-range" min="0" max="5000" step="100">
        <script>
        $(function() {
            var $document = $(document);
            var selector = '[data-rangeslider]';
            var $element = $(selector);

            var textContent = ('textContent' in document) ? 'textContent' : 'innerText';

            function valueOutput(element) {
                var value = element.value;
                var output = element.parentNode.getElementsByTagName('output')[0] ||
                    element.parentNode.parentNode.getElementsByTagName('output')[0];
                output[textContent] = value;
            }

            $document.on('input', 'input[type="range"], ' + selector, function(e) {
                valueOutput(e.target);
            });

            $element.rangeslider({
                polyfill: false,

                onInit: function() {
                    valueOutput(this.$element[0]);
                },

                onSlide: function(position, value) {
                    console.log('onSlide');
                    console.log('position: ' + position, 'value: ' + value);
                },

                onSlideEnd: function(position, value) {
                    console.log('onSlideEnd');
                    console.log('position: ' + position, 'value: ' + value)
                }
            });
        });
        </script>
        <table class="table table-dark table-hover table-striped">
            <thead>
                <tr>
                    {% for column in columns %}
                        <th>{{ column }}</th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
                {% for row in rows %}
                <tr>
                    {% for cell in row %}
                    <td>{{ cell }}</td>
                    {% endfor %}
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </body>
</div>
{% endblock %}